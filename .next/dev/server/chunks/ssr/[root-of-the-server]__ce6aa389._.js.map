{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///var/www/mainnet/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport html2canvas from \"html2canvas\";\n\nexport default function Home() {\n    const [pseudo, setPseudo] = useState(\"\");\n    const [generating, setGenerating] = useState(false);\n    const [error, setError] = useState(\"\");\n    const ticketRef = useRef<HTMLDivElement>(null);\n\n    const handleGenerate = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (!pseudo.trim()) {\n            setError(\"Please enter your pseudo!\");\n            return;\n        }\n\n        setError(\"\");\n        setGenerating(true);\n\n        // Petit délai pour que le DOM soit mis à jour\n        setTimeout(async () => {\n            if (ticketRef.current) {\n                // Capture l'image du ticket\n                const canvas = await html2canvas(ticketRef.current, {\n                    backgroundColor: null,\n                    scale: 3, // meilleure résolution\n                });\n\n                // Création du lien pour télécharger l'image\n                const link = document.createElement(\"a\");\n                link.download = `${pseudo}_ticket.png`;\n                link.href = canvas.toDataURL(\"image/png\");\n                link.click();\n            }\n\n            setGenerating(false);\n        }, 50); // très court, juste le temps que le pseudo s'affiche\n    };\n\n    return (\n        <div className=\"h-screen w-screen flex items-center justify-center bg-cover bg-center\" style={{ backgroundImage: \"url('/bg.png')\" }}>\n            <div className=\"bg-[#080420]/90 p-8 rounded-2xl shadow-2xl w-full max-w-md text-center\">\n                <h1 className=\"text-2xl font-bold mb-2 text-[#ff3d00]\">Mainnet onboarding</h1>\n                <p className=\"text-[#c3fba5] mb-6\">\n                    Enter your username and generate your Mainnet ticket.\n                </p>\n                <form className=\"flex flex-col gap-4\" onSubmit={handleGenerate}>\n                    <input\n                        type=\"text\"\n                        placeholder=\"Enter your username\"\n                        value={pseudo}\n                        onChange={(e) => setPseudo(e.target.value)}\n                        className=\"p-3 rounded-lg border border-[#ff3d00] bg-[#080420] focus:outline-none focus:ring-2 focus:ring-[#c3fba5] text-[#c3fba5] transition text-center\"\n                    />\n\n                    {error && <p className=\"text-red-500 font-semibold\">{error}</p>}\n\n                    <button\n                        type=\"submit\"\n                        className=\"p-3 rounded-lg bg-gradient-to-r from-[#ff3d00] to-[#c3fba5] font-bold text-black hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed\"\n                        disabled={generating}\n                    >\n                        {generating ? \"Generating...\" : \"Get my ticket\"}\n                    </button>\n                </form>\n            </div>\n\n            {/* Zone invisible pour capture */}\n            <div className=\"absolute opacity-0 pointer-events-none\">\n                <div ref={ticketRef} className=\"relative w-[360px]\" style={{ backgroundColor: \"#fff\" }}>\n                    <img\n                        src=\"/ticket.png\"\n                        alt=\"ticket\"\n                        className=\"w-[360px] rounded-lg\"\n                    />\n                    <div className=\"absolute top-[143px] left-[105px] text-center text-lg font-bold text-black\">\n                            {pseudo}\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,YAAY,IAAA,+MAAM,EAAiB;IAEzC,MAAM,iBAAiB,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI,CAAC,OAAO,IAAI,IAAI;YAChB,SAAS;YACT;QACJ;QAEA,SAAS;QACT,cAAc;QAEd,8CAA8C;QAC9C,WAAW;YACP,IAAI,UAAU,OAAO,EAAE;gBACnB,4BAA4B;gBAC5B,MAAM,SAAS,MAAM,IAAA,oKAAW,EAAC,UAAU,OAAO,EAAE;oBAChD,iBAAiB;oBACjB,OAAO;gBACX;gBAEA,4CAA4C;gBAC5C,MAAM,OAAO,SAAS,aAAa,CAAC;gBACpC,KAAK,QAAQ,GAAG,GAAG,OAAO,WAAW,CAAC;gBACtC,KAAK,IAAI,GAAG,OAAO,SAAS,CAAC;gBAC7B,KAAK,KAAK;YACd;YAEA,cAAc;QAClB,GAAG,KAAK,qDAAqD;IACjE;IAEA,qBACI,8OAAC;QAAI,WAAU;QAAwE,OAAO;YAAE,iBAAiB;QAAiB;;0BAC9H,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAyC;;;;;;kCACvD,8OAAC;wBAAE,WAAU;kCAAsB;;;;;;kCAGnC,8OAAC;wBAAK,WAAU;wBAAsB,UAAU;;0CAC5C,8OAAC;gCACG,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gCACzC,WAAU;;;;;;4BAGb,uBAAS,8OAAC;gCAAE,WAAU;0CAA8B;;;;;;0CAErD,8OAAC;gCACG,MAAK;gCACL,WAAU;gCACV,UAAU;0CAET,aAAa,kBAAkB;;;;;;;;;;;;;;;;;;0BAM5C,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,KAAK;oBAAW,WAAU;oBAAqB,OAAO;wBAAE,iBAAiB;oBAAO;;sCACjF,8OAAC;4BACG,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;sCAEd,8OAAC;4BAAI,WAAU;sCACN;;;;;;;;;;;;;;;;;;;;;;;AAO7B","debugId":null}}]
}