{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///var/www/mainnet/app/page.tsx"],"sourcesContent":["import { useState, useRef } from \"react\";\nimport html2canvas from \"html2canvas\";\n\nexport default function Home() {\n    const [pseudo, setPseudo] = useState(\"\");\n    const [generating, setGenerating] = useState(false);\n    const ticketRef = useRef(null);\n\n    const handleGenerate = async () => {\n        if (!pseudo.trim()) return;\n        setGenerating(true);\n\n        // Donne un petit délai pour que le pseudo soit bien rendu avant capture\n        setTimeout(async () => {\n            if (ticketRef.current) {\n                const canvas = await html2canvas(ticketRef.current, {\n                    backgroundColor: null,\n                    scale: 3, // haute résolution\n                });\n                const link = document.createElement(\"a\");\n                link.download = `${pseudo}_ticket.png`;\n                link.href = canvas.toDataURL(\"image/png\");\n                link.click();\n            }\n            setGenerating(false);\n        }, 300);\n    };\n\n    return (\n        <div\n            className=\"h-screen w-screen bg-cover bg-center flex items-center justify-center\"\n            style={{ backgroundImage: \"url('/bg.jpg')\" }}\n        >\n            <div className=\"bg-white/90 rounded-2xl shadow-2xl p-8 w-96 text-center backdrop-blur-md\">\n                <h1 className=\"text-2xl font-bold text-[#ff3d00] mb-6\">\n                    ✈️ FOGO Ticket Generator\n                </h1>\n\n                <input\n                    type=\"text\"\n                    placeholder=\"Enter your pseudo\"\n                    value={pseudo}\n                    onChange={(e) => setPseudo(e.target.value)}\n                    className=\"w-full border border-gray-300 rounded-lg p-2 mb-4 text-center focus:outline-none focus:ring-2 focus:ring-[#c3fba5]\"\n                />\n\n                <button\n                    onClick={handleGenerate}\n                    disabled={!pseudo || generating}\n                    className={`w-full py-2 rounded-lg font-semibold transition ${\n                        generating\n                            ? \"bg-gray-300 cursor-not-allowed\"\n                            : \"bg-[#ff3d00] text-white hover:bg-[#e63600]\"\n                    }`}\n                >\n                    {generating ? \"Generating...\" : \"Get my ticket\"}\n                </button>\n            </div>\n\n            {/* Zone invisible (capture pour téléchargement) */}\n            <div className=\"absolute opacity-0 pointer-events-none\">\n                <div ref={ticketRef} className=\"relative w-[360px]\">\n                    <img\n                        src=\"/ticket.png\"\n                        alt=\"ticket\"\n                        className=\"w-[360px] rounded-lg\"\n                    />\n                    <div className=\"absolute top-[140px] left-[60px] w-[240px] text-center\">\n                        <p className=\"text-lg font-bold text-[#ff3d00] bg-white/70 rounded-md\">\n                            {pseudo}\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,YAAY,IAAA,+MAAM,EAAC;IAEzB,MAAM,iBAAiB;QACnB,IAAI,CAAC,OAAO,IAAI,IAAI;QACpB,cAAc;QAEd,wEAAwE;QACxE,WAAW;YACP,IAAI,UAAU,OAAO,EAAE;gBACnB,MAAM,SAAS,MAAM,IAAA,oKAAW,EAAC,UAAU,OAAO,EAAE;oBAChD,iBAAiB;oBACjB,OAAO;gBACX;gBACA,MAAM,OAAO,SAAS,aAAa,CAAC;gBACpC,KAAK,QAAQ,GAAG,GAAG,OAAO,WAAW,CAAC;gBACtC,KAAK,IAAI,GAAG,OAAO,SAAS,CAAC;gBAC7B,KAAK,KAAK;YACd;YACA,cAAc;QAClB,GAAG;IACP;IAEA,qBACI,8OAAC;QACG,WAAU;QACV,OAAO;YAAE,iBAAiB;QAAiB;;0BAE3C,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAyC;;;;;;kCAIvD,8OAAC;wBACG,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,WAAU;;;;;;kCAGd,8OAAC;wBACG,SAAS;wBACT,UAAU,CAAC,UAAU;wBACrB,WAAW,CAAC,gDAAgD,EACxD,aACM,mCACA,8CACR;kCAED,aAAa,kBAAkB;;;;;;;;;;;;0BAKxC,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,KAAK;oBAAW,WAAU;;sCAC3B,8OAAC;4BACG,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;sCAEd,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAE,WAAU;0CACR;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7B","debugId":null}}]
}